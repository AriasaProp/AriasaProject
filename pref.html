<!DOCTYPE html>
<html lang='en'>
<head>
  <title>Fermity - Preference</title>
  <meta name='viewport' content='width=device-width, initial-scale=1.0'>
  <meta name='author' content='AriasaProp'>
  <meta name='description' content=' - Preference Theme.'>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="manifest" href="/site.webmanifest">
  <link rel='preconnect' href='https://fonts.googleapis.com' crossorigin>
  <link rel='preconnect' href='https://fonts.gstatic.com' crossorigin>
  <link rel='preload' href='https://fonts.googleapis.com/css2?family=Poppins:wght@200;400;700' as='style' onload="this.onload=null;this.rel='stylesheet'">
  <link rel='preload' href='https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght@28,700' as='style' onload="this.onload=null;this.rel='stylesheet'">
  <noscript>
    <link rel='stylesheet' href='https://fonts.googleapis.com/css2?family=Poppins:wght@200;400;700'>
    <link rel='stylesheet' href='https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,opsz@200,28'>
  </noscript>
  <link rel='stylesheet' href='styles/common.css'>
  <link rel='stylesheet' href='styles/pref.css'>
  <script src='scripts/common.js'></script>
</head>
<body>
  <noscript><span id='blocked'>Blocked: [need javascript to load!]</span></noscript>
  <header>
    <nav>
      <a href='/'><h2>Fermity</h2></a>
      <span></span>

      <input id='ai' type='checkbox'>
      <label id='al' for='ai' class='material-symbols-outlined'></label>
      <form id='ab' action='/' method='GET'>
        <input name='s' type='text' placeholder='Search' required>
        <button type='reset' class='material-symbols-outlined'>&#xe6d0;</button>
        <button type='submit' class='material-symbols-outlined'>&#xe8b6;</button>
      </form>
    </nav>
  </header>
  <main id='main'>
    <h1>Customize</h1>
    <form>
      <canvas width='180px' height='180px'><input type='hidden' name='primaryColor'></canvas>
      <canvas width='180px' height='180px'><input type='hidden' name='accentColor'></canvas>
      <canvas width='180px' height='180px'><input type='hidden' name='fontColor'></canvas>
      <br>
      <div class='kc'><h4>Font Size</h4><p>A</p><input name='fontSize' type='range' min='12' step='1' max='16'><p>A</p></div>
      <br>
      <button type='reset' disabled><i class='material-symbols-outlined'>&#xe872;</i>Reset</button>
      <button type='submit' disabled><i class='material-symbols-outlined'>&#xf5a6;</i>Apply</button>
    </form>
  </main>
  <script>
const cp = Math.PI / 180;
function clrPickC(p, radi) {
  let rad = 0;
  if (radi) p.obj.value = rad = parseInt(radi);
  else rad = parseInt(p.obj.value);
  const r = Math.min(p.canvas.clientWidth, p.canvas.clientHeight) * 0.46;
  const d = r * 0.64; // thickness of pallete
  const ctx = p.ctx;
  for (i = rad + 1; i !== rad; i = (i + 1) % 360) {
    ctx.fillStyle = `hsl(${i}, 100%, 50%)`;
    ctx.beginPath();
    let inArcX  = Math.cos(cp * (i - 0.5));
    let inArcY  = Math.sin(cp * (i - 0.5));
    ctx.moveTo(d * inArcX,d * inArcY);
    ctx.lineTo(r * inArcX,r * inArcY);
    inArcX  = Math.cos(cp * (i + 0.5));
    inArcY  = Math.sin(cp * (i + 0.5));
    ctx.lineTo(r * inArcX,r * inArcY);
    ctx.lineTo(d * inArcX,d * inArcY);
    ctx.closePath();
    ctx.fill();
  }
  ctx.fillStyle = `hsl(${rad}, 100%, 50%)`;
  ctx.beginPath();
  ctx.arc(0, 0, d, 0, Math.PI * 2);
  ctx.closePath();
  ctx.fill();
  ctx.strokeStyle = 'black';
  ctx.beginPath();
  ctx.moveTo((d - 5) * Math.cos(cp * (rad + 0.0)), (d - 5) * Math.sin(cp * (rad + 0.0)));
  ctx.lineTo((r + 5) * Math.cos(cp * (rad + 2.5)), (r + 5) * Math.sin(cp * (rad + 2.5)));
  ctx.lineTo((r + 5) * Math.cos(cp * (rad - 2.5)), (r + 5) * Math.sin(cp * (rad - 2.5)));
  ctx.closePath();
  ctx.fill();
  ctx.stroke();
  ctx.fillStyle = 'black';
  ctx.textBaseline = 'bottom';
  ctx.fillText(p.n, 0, 0);
  ctx.textBaseline = 'top';
  ctx.fillText('Color', 0, 0);
}
function redrawClrPickC(p, rad) {
  p.ctx.clearRect(-p.canvas.clientWidth * 0.5, -p.canvas.clientHeight * 0.5, p.canvas.clientWidth, p.canvas.clientHeight);
  clrPickC(p, rad);
}
let colorPickerConstant = [
  {k: 'primaryColor',n: 'Primary'},
  {k: 'accentColor',n: 'Accent'},
  {k: 'fontColor',n: 'Font'}];
colorPickerConstant.forEach(p => {
  p.obj = sett.elements[p.k];
  p.canvas = p.obj.parentNode;
  p.ctx = p.canvas.getContext('2d');
  p.ctx.textAlign = 'center';
  p.ctx.font = "normal 700 1.1em Roboto, sans-serif";
  p.ctx.translate(p.canvas.clientWidth * 0.5, p.canvas.clientHeight * 0.5);
  clrPickC(p, theme_val[p.k]);
  p.canvas.addEventListener('click', (e) => {
    const tan = Math.atan2(p.canvas.clientHeight * 0.5 - e.offsetY, p.canvas.clientWidth * 0.5 - e.offsetX);
    const rad = Math.round(180 + tan / cp);
    if (parseInt(p.obj.value) === rad) return;
    redrawClrPickC(p, rad);
    sett.dispatchEvent(new Event('change'));
  });
});
let areset = sett.querySelector('button[type="reset"]');
let asubmit = sett.querySelector('button[type="submit"]');
sett.addEventListener('change', (e) => {
  areset.disabled = false;
  asubmit.disabled = false;
});
sett.addEventListener('reset', (e) => {
  areset.disabled = true;
  asubmit.disabled = true;
  colorPickerConstant.forEach(p => redrawClrPickC(p, theme_val[p.k]));
});
sett.addEventListener('submit', (e) => {
  areset.disabled = true;
  asubmit.disabled = true;
  e.preventDefault();
  Object.keys(theme_val).forEach((k) => {
    let a = sett.elements[k];
    if (theme_val[k] !== a.value) {
      document.documentElement.style.setProperty(`--${k}`, a.value);
      theme_val[k] = a.defaultValue = a.value;
    }
  });
  localStorage.setItem('Theme', JSON.stringify(theme_val));
  colorPickerConstant.forEach(p => redrawClrPickC(p, theme_val[p.k]));
});
  </script>
  <footer>
    <a href='mailto:ikomangwidiadaariasa12@gmail.com'><p>Google mail</p></a>
    <a href='https://github.com/AriasaProp'><p>Github</p></a>
    <a href='#'><p>Instagram</p></a>
    <a href='#'><p>Facebook</p></a>
    <a href='#'><p>Twitter</p></a>
    <hr/>
    <p>2025 AriasaProp | Made for fun!</p>
  </footer>
</body>
</html>
ï¿½